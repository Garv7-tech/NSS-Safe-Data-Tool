# Module 0: Config Auto-Generation

## 1. Overview

This module fulfills the "zero-config" vision for the pipeline. It runs before any other module and is responsible for detecting **new, unknown surveys** that are not present in the `ingestion_config.yaml`.

When it finds an unknown survey file, it analyzes its schema and uses semantic heuristics (e.g., column names like 'age_yrs', 'dist_code') to automatically guess its configuration. It then writes these new rules directly into the `ingestion_config.yaml` file, making the survey "known" for all future runs.

## 2. Core Components

### `schema_detector.py`
* **`SchemaDetector`:** A class that ingests a new DataFrame.
* **`_infer_semantic_types()`:** The core logic. It uses a dictionary of keywords (`SEMANTIC_HEURISTRICS`) to map column names (e.g., 'h_age', 'gender') to standard semantic types (e.g., 'age', 'sex').
* **`infer_schema()`:** Builds a complete config block for the new survey, identifying potential QIs, IDs, and sensitive columns.

### `config_writer.py`
* **`ConfigWriter`:** A utility class that safely reads the existing `.yaml` config file, adds the new survey block generated by the `SchemaDetector`, and writes the file back to disk. This ensures the main config is always growing and learning.